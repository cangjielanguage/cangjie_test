// Copyright (c) Huawei Technologies Co., Ltd. 2025. All rights reserved.
// This source file is part of the Cangjie project, licensed under Apache-2.0
// with Runtime Library Exception.
//
// See https://cangjie-lang.cn/pages/LICENSE for license information.

// DEPENDENCE: ./test ./obf5.cfg
//  EXEC: cp -r test/* . && rm -r test && cp obf5.cfg %n.cfg
//  EXEC: %compiler mymod/mod1/mod1.cj %compile_shared_lib_opt %output_dir_opt mymod --fobf-all --obf-config %n.cfg --obf-sym-output-mapping a.map --obf-sym-prefix=a %save_temps_opt .
//  EXEC: %compiler mymod/mod2/mod2.cj %compile_shared_lib_opt %output_dir_opt mymod --fobf-all --obf-config %n.cfg --obf-sym-output-mapping b.map --obf-sym-prefix=b %save_temps_opt .
//  EXEC: %compiler -o test -lmymod.mod1 -lmymod.mod2 %import_path_opt=mymod -Lmymod --fobf-all --obf-config %n.cfg --obf-sym-input-mapping a.map,b.map --obf-sym-prefix=c -p . %save_temps_opt .
//  EXEC: LD_LIBRARY_PATH=./mymod:${LD_LIBRARY_PATH} ./test 2>&1 | compare ./%f
// ASSERT: scan at mymod.mod1.MyClassA::myfunc1(Int64, Float64)(SOURCE:0)

