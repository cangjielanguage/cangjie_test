/*
 * Copyright (c) Huawei Technologies Co., Ltd. 2025. All rights reserved.
 * This source file is part of the Cangjie project, licensed under Apache-2.0
 * with Runtime Library Exception.
 * 
 * See https://cangjie-lang.cn/pages/LICENSE for license information.
 */

// LEVEL: 0
// DEPENDENCE:  ../../../lsp_test.py ../../../sourcecode/cangjieTest/deprecated ../../../lsp_config.txt
// EXEC: %python lsp_test.py textDocument_completion_008.info

Req#
{"jsonrpc": "2.0", "id": "0", "method": "initialize", "params": {"processId": null, "rootPath": "deprecated", "rootUri": "deprecated", "capabilities": {"workspace": {"applyEdit": true, "workspaceEdit": {}, "didChangeWatchedFiles": {}, "symbol": {}, "executeCommand": {}, "workspaceFolders": false, "configuration": false}, "textDocument": {"synchronization": {"willSave": true, "willSaveWaitUntil": true, "didSave": true}, "completion": {"completionItem": {"snippetSupport": true}}, "hover": {}, "signatureHelp": {}, "references": {}, "documentHighlight": {"dynamicRegistration": true}, "formatting": {}, "rangeFormatting": {}, "onTypeFormatting": {}, "definition": {}, "codeAction": {}, "documentLink": {}, "rename": {"prepareSupport": true}, "semanticHighlightingCapabilities": {"semanticHighlighting": true}, "callHierarchy": {}, "semanticTokens": {"tokenTypes": ["namespace", "type", "class", "enum", "interface", "struct", "typeParameter", "parameter", "variable", "property", "enumMember", "event", "function", "method", "macro", "keyword", "modifier", "comment", "string", "number", "regexp", "operator", "member", "label"], "tokenModifiers": ["declaration", "definition", "readonly", "static", "deprecated", "abstract", "async", "modification", "documentation", "defaultLibrary"], "dynamicRegistration": true}}}}}
{"jsonrpc":"2.0","method":"initialized","params":{}}
{"jsonrpc": "2.0", "method": "textDocument/didOpen", "params": {"textDocument": {"uri": "deprecated/src/deprecated_lsp_002.cj", "languageId": "Cangjie", "version": 26, "text": "package default\r\n\r\n@Deprecated\r\npublic var test_02:Int64 = 1\r\n\r\n@Deprecated\r\npublic func test02() {\r\n\r\n}\r\n\r\n\r\nfunc testcase_02() {\r\n    //\u8054\u60f3\u8865\u5168\u529f\u80fd\u6b63\u5e38\r\n    let test_02_c = test_02\r\n    let test_02_b = test02()\r\n}"}}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":27},"contentChanges":[{"range":{"start":{"line":13,"character":20},"end":{"line":13,"character":27}},"rangeLength":7,"text":"t"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":28},"contentChanges":[{"range":{"start":{"line":13,"character":21},"end":{"line":13,"character":21}},"rangeLength":0,"text":"e"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":29},"contentChanges":[{"range":{"start":{"line":13,"character":22},"end":{"line":13,"character":22}},"rangeLength":0,"text":"s"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":30},"contentChanges":[{"range":{"start":{"line":13,"character":23},"end":{"line":13,"character":23}},"rangeLength":0,"text":"t"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":31},"contentChanges":[{"range":{"start":{"line":13,"character":20},"end":{"line":13,"character":24}},"rangeLength":4,"text":"test_02"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":32},"contentChanges":[{"range":{"start":{"line":14,"character":20},"end":{"line":14,"character":28}},"rangeLength":8,"text":""}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":33},"contentChanges":[{"range":{"start":{"line":14,"character":20},"end":{"line":14,"character":20}},"rangeLength":0,"text":"t"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":34},"contentChanges":[{"range":{"start":{"line":14,"character":21},"end":{"line":14,"character":21}},"rangeLength":0,"text":"e"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":35},"contentChanges":[{"range":{"start":{"line":14,"character":22},"end":{"line":14,"character":22}},"rangeLength":0,"text":"s"}]}}
{"jsonrpc":"2.0","method":"textDocument/didChange","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj","version":36},"contentChanges":[{"range":{"start":{"line":14,"character":23},"end":{"line":14,"character":23}},"rangeLength":0,"text":"t"}]}}
{"jsonrpc":"2.0","id":154,"method":"textDocument/completion","params":{"textDocument":{"uri":"deprecated/src/deprecated_lsp_002.cj"},"position":{"line":14,"character":24},"context":{"triggerKind":3}}}
{"jsonrpc": "2.0", "id": 155, "method": "shutdown", "params": {}}
{"jsonrpc": "2.0", "method": "exit", "params": {}}

Rev#
{"id": 154,"jsonrpc": "2.0","result": [{"deprecated": false,"detail": "(class) public class NegativeArraySizeException <: Exception","documentation": "","filterText": "NegativeArraySizeException","insertText": "NegativeArraySizeException","insertTextFormat": 1,"kind": 7,"label": "NegativeArraySizeException","sortText": "720769"},{"deprecated": false,"detail": "(function) public func init()","documentation": "","filterText": "NegativeArraySizeException","insertText": "NegativeArraySizeException()","insertTextFormat": 1,"kind": 3,"label": "NegativeArraySizeException()","sortText": "720769"},{"deprecated": false,"detail": "(function) public func init(message: String)","documentation": "","filterText": "NegativeArraySizeException","insertText": "NegativeArraySizeException(${1:message: String})","insertTextFormat": 2,"kind": 3,"label": "NegativeArraySizeException(message: String)","sortText": "720769"},{"deprecated": false,"detail": "(struct) struct Point_Test","documentation": "","filterText": "Point_Test","insertText": "Point_Test","insertTextFormat": 1,"kind": 7,"label": "Point_Test","sortText": "642000"},{"deprecated": false,"detail": "(function) func Point_Test(x: Float64, y: Float64)","documentation": "","filterText": "Point_Test","insertText": "Point_Test(${1:x: Float64}, ${2:y: Float64})","insertTextFormat": 2,"kind": 3,"label": "Point_Test(x: Float64, y: Float64)","sortText": "642000"},{"deprecated": false,"detail": "(class) class Test_A","documentation": "","filterText": "Test_A","insertText": "Test_A","insertTextFormat": 1,"kind": 7,"label": "Test_A","sortText": "556667"},{"deprecated": true,"detail": "","documentation": "","filterText": "test02","insertText": "test02","insertTextFormat": 1,"kind": 2,"label": "test02","sortText": "527576"},{"deprecated": true,"detail": "(function) public func test02()","documentation": "","filterText": "test02","insertText": "test02()","insertTextFormat": 1,"kind": 2,"label": "test02()","sortText": "527576"},{"deprecated": false,"detail": "","documentation": "","filterText": "test23","insertText": "test23","insertTextFormat": 1,"kind": 2,"label": "test23","sortText": "527576"},{"deprecated": false,"detail": "(function) func test23()","documentation": "","filterText": "test23","insertText": "test23()","insertTextFormat": 1,"kind": 2,"label": "test23()","sortText": "527576"},{"deprecated": false,"detail": "","documentation": "","filterText": "testDeprecated","insertText": "testDeprecated","insertTextFormat": 1,"kind": 2,"label": "testDeprecated","sortText": "693810"},{"deprecated": false,"detail": "(function) func testDeprecated()","documentation": "","filterText": "testDeprecated","insertText": "testDeprecated()","insertTextFormat": 1,"kind": 2,"label": "testDeprecated()","sortText": "693810"},{"deprecated": true,"detail": "(variable) public var test_02: Int64 = 1","documentation": "","filterText": "test_02","insertText": "test_02","insertTextFormat": 1,"kind": 6,"label": "test_02","sortText": "571242"},{"deprecated": false,"detail": "(variable) let test_02_b = test","documentation": "","filterText": "test_02_b","insertText": "test_02_b","insertTextFormat": 1,"kind": 6,"label": "test_02_b","sortText": "477778"},{"deprecated": false,"detail": "(variable) let test_02_c = test_02","documentation": "","filterText": "test_02_c","insertText": "test_02_c","insertTextFormat": 1,"kind": 6,"label": "test_02_c","sortText": "477778"},{"deprecated": false,"detail": "","documentation": "","filterText": "test_10","insertText": "test_10","insertTextFormat": 1,"kind": 2,"label": "test_10","sortText": "571242"},{"deprecated": false,"detail": "(function) func test_10()","documentation": "","filterText": "test_10","insertText": "test_10()","insertTextFormat": 1,"kind": 2,"label": "test_10()","sortText": "571242"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase","insertText": "testcase","insertTextFormat": 1,"kind": 2,"label": "testcase","sortText": "603333"},{"deprecated": false,"detail": "(function) func testcase()","documentation": "","filterText": "testcase","insertText": "testcase()","insertTextFormat": 1,"kind": 2,"label": "testcase()","sortText": "603333"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase006","insertText": "testcase006","insertTextFormat": 1,"kind": 2,"label": "testcase006","sortText": "662256"},{"deprecated": false,"detail": "(function) func testcase006(): Int64","documentation": "","filterText": "testcase006","insertText": "testcase006()","insertTextFormat": 1,"kind": 2,"label": "testcase006()","sortText": "662256"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase01","insertText": "testcase01","insertTextFormat": 1,"kind": 2,"label": "testcase01","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase01()","documentation": "","filterText": "testcase01","insertText": "testcase01()","insertTextFormat": 1,"kind": 2,"label": "testcase01()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase03","insertText": "testcase03","insertTextFormat": 1,"kind": 2,"label": "testcase03","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase03()","documentation": "","filterText": "testcase03","insertText": "testcase03()","insertTextFormat": 1,"kind": 2,"label": "testcase03()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase04","insertText": "testcase04","insertTextFormat": 1,"kind": 2,"label": "testcase04","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase04()","documentation": "","filterText": "testcase04","insertText": "testcase04()","insertTextFormat": 1,"kind": 2,"label": "testcase04()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase05","insertText": "testcase05","insertTextFormat": 1,"kind": 2,"label": "testcase05","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase05()","documentation": "","filterText": "testcase05","insertText": "testcase05()","insertTextFormat": 1,"kind": 2,"label": "testcase05()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase07","insertText": "testcase07","insertTextFormat": 1,"kind": 2,"label": "testcase07","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase07()","documentation": "","filterText": "testcase07","insertText": "testcase07()","insertTextFormat": 1,"kind": 2,"label": "testcase07()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase09","insertText": "testcase09","insertTextFormat": 1,"kind": 2,"label": "testcase09","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase09()","documentation": "","filterText": "testcase09","insertText": "testcase09()","insertTextFormat": 1,"kind": 2,"label": "testcase09()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase10","insertText": "testcase10","insertTextFormat": 1,"kind": 2,"label": "testcase10","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase10(first_num!: Int64 = 1, second_num!: Int64 = 1): Int64","documentation": "","filterText": "testcase10","insertText": "testcase10(first_num: ${1:Int64 = 1}, second_num: ${2:Int64 = 1})","insertTextFormat": 2,"kind": 2,"label": "testcase10(first_num!: Int64 = 1, second_num!: Int64 = 1)","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase11","insertText": "testcase11","insertTextFormat": 1,"kind": 2,"label": "testcase11","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase11()","documentation": "","filterText": "testcase11","insertText": "testcase11()","insertTextFormat": 1,"kind": 2,"label": "testcase11()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase12","insertText": "testcase12","insertTextFormat": 1,"kind": 2,"label": "testcase12","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase12()","documentation": "","filterText": "testcase12","insertText": "testcase12()","insertTextFormat": 1,"kind": 2,"label": "testcase12()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase19","insertText": "testcase19","insertTextFormat": 1,"kind": 2,"label": "testcase19","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase19()","documentation": "","filterText": "testcase19","insertText": "testcase19()","insertTextFormat": 1,"kind": 2,"label": "testcase19()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase20","insertText": "testcase20","insertTextFormat": 1,"kind": 2,"label": "testcase20","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase20()","documentation": "","filterText": "testcase20","insertText": "testcase20()","insertTextFormat": 1,"kind": 2,"label": "testcase20()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase22","insertText": "testcase22","insertTextFormat": 1,"kind": 2,"label": "testcase22","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase22()","documentation": "","filterText": "testcase22","insertText": "testcase22()","insertTextFormat": 1,"kind": 2,"label": "testcase22()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase23","insertText": "testcase23","insertTextFormat": 1,"kind": 2,"label": "testcase23","sortText": "646923"},{"deprecated": false,"detail": "(function) func testcase23()","documentation": "","filterText": "testcase23","insertText": "testcase23()","insertTextFormat": 1,"kind": 2,"label": "testcase23()","sortText": "646923"},{"deprecated": false,"detail": "","documentation": "","filterText": "testcase_02","insertText": "testcase_02","insertTextFormat": 1,"kind": 2,"label": "testcase_02","sortText": "662256"},{"deprecated": false,"detail": "(function) func testcase_02()","documentation": "","filterText": "testcase_02","insertText": "testcase_02()","insertTextFormat": 1,"kind": 2,"label": "testcase_02()","sortText": "662256"},{"deprecated": false,"detail": "","documentation": "","filterText": "testsssDeprecated","insertText": "testsssDeprecated","insertTextFormat": 1,"kind": 2,"label": "testsssDeprecated","sortText": "712959"},{"deprecated": false,"detail": "(function) func testsssDeprecated()","documentation": "","filterText": "testsssDeprecated","insertText": "testsssDeprecated()","insertTextFormat": 1,"kind": 2,"label": "testsssDeprecated()","sortText": "712959"}]}
